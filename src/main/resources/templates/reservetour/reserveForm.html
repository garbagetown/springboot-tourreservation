<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="layout">
<head>
    <meta charset="UTF-8"/>
</head>
<body>
<div layout:fragment="content">

    <div layout:include="common/top" />
    <h2 th:text="#{label.tr.searchtour.titleDetailScreenMessage}" />
    <div class="panel panel-info">
        <div th:utext="#{label.tr.searchtour.detailScreenFlowMessage}"/>
    </div>

    <div sec:authorize="!hasRole('ROLE_USER')" th:utext="#{label.tr.searchtour.loginToReserveMessage}" />
    <div sec:authorize="hasRole('ROLE_USER')" th:utext="#{label.tr.searchtour.pressReserveBtnMessage}" />

    <table class="table table-striped" th:object="${output.tourinfo}">
        <thead>
        <tr>
            <th colspan="2" th:text="#{label.tr.searchtour.tourDetailCaptionMessage}" />
        </tr>
        </thead>
        <tbody>
        <tr>
            <td th:text="#{label.tr.searchtour.tourname}" />
            <td th:text="*{tourName}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.depDay}" />
            <td th:text="*{depDay}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.tourDays}" />
            <td th:text="*{tourDays}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.depName}" />
            <td th:text="*{departure.depName}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.arrName}" />
            <td th:text="*{arrival.arrName}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.conductor}" />
            <td th:text="*{conductor}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.accomName}" />
            <td th:text="*{accommodation.accomName}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.accomTel}" />
            <td th:text="*{accommodation.accomTel}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.tourAbs}" />
            <td th:text="*{tourAbs}" />
        </tr>
        </tbody>
    </table>

    <table class="table table-striped" sec:authorize="hasRole('ROLE_USER')" th:object="${output.customer}">
        <thead>
        <tr>
            <th colspan="3" th:text="#{label.tr.searchtour.representative}" />
        </tr>
        </thead>
        <tbody>
        <tr>
            <td colspan="2" th:text="#{label.tr.searchtour.customerCode}" />
            <td th:text="*{customerCode}" />
        </tr>
        <tr>
            <td colspan="2" th:text="#{label.tr.searchtour.customerKana}" />
            <td th:text="*{customerKana}" />
        </tr>
        <tr>
            <td colspan="2" th:text="#{label.tr.searchtour.customerName}" />
            <td th:text="*{customerName}" />
        </tr>
        <tr>
            <td colspan="2" th:text="#{label.tr.searchtour.customerBirth}" />
            <td th:text="*{customerBirth}" />
        </tr>
        <tr>
            <td colspan="2" th:text="#{label.tr.searchtour.customerJob}" />
            <td th:text="*{customerJob}" />
        </tr>
        <tr>
            <td colspan="2" th:text="#{label.tr.searchtour.customerMail}" />
            <td th:text="*{customerMail}" />
        </tr>
        <tr>
            <td rowspan="3" th:text="#{label.tr.searchtour.customerContactInfo}" />
            <td th:text="#{label.tr.searchtour.customerTell}" />
            <td th:text="*{customerTel}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.customerPost}" />
            <td th:text="*{customerPost}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.customerAdd}" />
            <td th:text="*{customerAdd}" />
        </tr>
        </tbody>
    </table>

    <table class="table table-striped" th:object="${output.priceCalculateOutput}">
        <thead>
        <tr>
            <th colspan="4" th:text="#{label.tr.searchtour.statementOfCharges}" />
        </tr>
        </thead>
        <tbody>
        <tr>
            <td th:text="#{label.tr.searchtour.classificationOnAge}" />
            <td th:text="#{label.tr.searchtour.unitPrice}" />
            <td th:text="#{label.tr.searchtour.noOfPeople}" />
            <td th:text="#{label.tr.searchtour.charge}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.adult}" />
            <td th:text="*{#numbers.formatInteger(adultUnitPrice, 3, 'COMMA') + '円'}" />
            <td th:text="*{adultCount + '人'}" />
            <td th:text="*{#numbers.formatInteger(adultPrice, 3, 'COMMA') + '円'}" />
        </tr>
        <tr>
            <td th:text="#{label.tr.searchtour.child}" />
            <td th:text="*{#numbers.formatInteger(childUnitPrice, 3, 'COMMA') + '円'}" />
            <td th:text="*{childCount + '人'}" />
            <td th:text="*{#numbers.formatInteger(childPrice, 3, 'COMMA') + '円'}" />
        </tr>
        <tr>
            <td colspan="3" th:text="#{label.tr.searchtour.sumPrice}" />
            <td th:text="*{#numbers.formatInteger(sumPrice, 3, 'COMMA') + '円'}" />
        </tr>
        </tbody>
    </table>

    <div sec:authorize="hasRole('ROLE_USER')">
        <form>
            <table class="table table-striped" >
                <thead>
                <tr>
                    <th colspan="2" th:text="#{label.tr.common.specialNotes}" />
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td th:text="#{label.tr.common.opinionSuggestion}" />
                    <td>
                        <textarea name="remarks" />
                        <div th:text="#{label.tr.searchtour.lessThanEightyCharsMessage}" />
                        <div th:text="#{label.tr.searchtour.opinionSuggestionMessage}" />
                    </td>
                </tr>
                </tbody>
            </table>
            <button class="btn btn-default" th:text="#{label.tr.common.confirm}" />
        </form>
    </div>
    <div sec:authorize="!hasRole('ROLE_USER')">
        <form th:action="@{/login}" method="get">
            <button class="btn btn-default" th:text="#{label.tr.menu.loginBtnMessage}" />
        </form>
    </div>
    <form method="get">
        <button class="btn btn-default" th:text="#{label.tr.common.goBackMessage}" />
    </form>
</div>
</body>
</html>